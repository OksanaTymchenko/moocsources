<!DOCTYPE html>
<html>
<head>
    <title>Courses</title>
    <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/js/bootstrap-select.min.js"></script>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    {% load static %}
</head>

<body>
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li><img src="{% static "logo.jpg" %}" alt="LOGO" style="width: 80px; height: 50px;"/></li>
                <li class="active" style="margin-left: 15px;"><a href="/index">Home</a></li>
                {% if request.user.is_staff %}
                    <li><a href="/profile">Profile</a></li>
                {% endif %}

                <li><a href="/courses">All courses</a></li>
                {% if not request.user.id is None and not request.user.is_staff %}
                    <li><a href="/favlist">My Favorites</a></li></li>
                    <li><a href="/recommend">My Recommendations</a></li></li>
                {% endif %}

            </ul>
            <form class="navbar-form navbar-left" action="/search/" method="get">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="search">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </div>
                </div>
            </form>
            <ul class="nav navbar-nav navbar-right">
                {% if request.user.id is None %}
                    <li><a href="/signup"><span class="glyphicon glyphicon-flag"></span>Sign up</a>
                    </li>
                    <li><a href="/login"><span class="glyphicon glyphicon-user"></span>Login</a>
                    </li>
                {% endif %}
                {% if not request.user.id is None %}
                    <li><a href="/logout"><span class="glyphicon glyphicon-trash"></span>Logout</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
{% block content %}{% endblock content %}
</body>


<script type="text/javascript">

    var new_href = '';
    var checkboxValues = JSON.parse(localStorage.getItem('checkboxValues')) || {},

        $checkboxes_cat = $(".category");
    console.log($checkboxes_cat)
    if ($checkboxes_cat !== null) {
        new_href += '?c='
    }
    $checkboxes_cat.on("change", function () {
        $checkboxes_cat.each(function () {
            checkboxValues[this.id] = this.checked;
            if (this.checked === true) {
                new_href += this.id + '_'

            }
        });
        window.location = new_href.slice(0, -1);
        localStorage.setItem("checkboxValues", JSON.stringify(checkboxValues));

    });

    // console.log(new_href)
    // $checkboxes_prov = $(".provider");
    // if ($checkboxes_prov!==null){
    // 	new_href+='?p='
    // }
    // $checkboxes_prov.on("change", function(){
    // 	$checkboxes_prov.each(function(){
    //    		checkboxValues[this.id] = this.checked;
    //    			if (this.checked===true){
    //    				new_href += this.id+'_'

    //   		 		}
    //  		});
    //  	window.location = new_href.slice(0, -1);
    // 	localStorage.setItem("checkboxValues", JSON.stringify(checkboxValues));

    // });

    $.each(checkboxValues, function (key, value) {
        $("#" + key).prop('checked', value);
    });


</script>

</html>